<html xmlns="http://www.w3.org/1999/xhtml"  
    xmlns:h="http://java.sun.com/jsf/html"  
    xmlns:f="http://java.sun.com/jsf/core"  
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets">  
		<ui:composition template="/WEB-INF/templates/basic-template.xhtml">
			<ui:define name="content">
				<h:form id="adminForm">
					<h3>Enter new entry:</h3>
		    		<table>
		    		<tr>
		    			<td>Food Name :</td>
		    			<td><h:inputText size="20" value="#{foodBean.foodName}" /></td>
		    		</tr>
		    		<tr>
		    			<td>Food Description :</td>
		    			<td><h:inputText size="20" value="#{foodBean.foodDescription}" /></td>
		    		</tr>
		    		<tr>
		    			<td>Food Cost :</td>
		    			<td><h:inputText size="20" value="#{foodBean.foodCost}" /></td>
		    		</tr>
		    		<tr>
		    			<td>Food Category :</td>
		    			<td><h:inputText size="20" value="#{foodBean.foodCategory}" /></td>
		    		</tr>
		    		
		    		</table>
		 
		    		<h:commandButton value="Add" action="#{foodBean.addFood}" />

				<p:dataTable id="adminTable" value="#{foodBean.foods}" var="food" border="1">
					    <p:column>
					        <f:facet name="header">
					            <h:outputText value="Food Name"></h:outputText>
					        </f:facet>
					        <h:outputText value="#{food.name}"></h:outputText>
					    </p:column>
					    <p:column>
					        <f:facet name="header">
					            <h:outputText value="Food Description"></h:outputText>
					        </f:facet>
					        <h:outputText value="#{food.description}"></h:outputText>
					    </p:column>
					    <p:column>
					        <f:facet name="header">
					            <h:outputText value="Food Cost"></h:outputText>
					        </f:facet>
					        <h:outputText value="#{food.cost} лв."></h:outputText>
					    </p:column>
					    <p:column>
					        <f:facet name="header">
					            <h:outputText value="Food Category"></h:outputText>
					        </f:facet>
					        <h:outputText value="#{food.category}"></h:outputText>
					    </p:column>
					    <p:column>
					        <f:facet name="header">
					            <h:outputText value="Delete"></h:outputText>
					        </f:facet>
					        <p:commandButton actionListener="#{foodBean.deleteFood}" icon="ui-icon-close" update="@this :adminForm:adminTable">
					        	<f:attribute name="foodName" value="#{food.name}" />
					        </p:commandButton>
					    </p:column>
					</p:dataTable>
					<p:commandButton value="Logout" action="#{userView.logout}" ajax="false" style="float: right;"/>
				</h:form>
			</ui:define>
		</ui:composition> 
</html>  